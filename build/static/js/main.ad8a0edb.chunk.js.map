{"version":3,"sources":["components/Person.js","components/Content.js","components/Filter.js","components/Notification.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Content","persons","allPersons","console","log","length","map","i","Filter","value","onChange","successStyle","color","background","fontSize","borderStyle","borderSadius","padding","marginBottom","errorStyle","Notification","message","includes","style","PersonForm","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","catch","error","status","headers","request","put","delete","App","useState","setPersons","setAllPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personService","initialPersons","event","target","regex","RegExp","filter","match","preventDefault","personToAdd","updatedPerson","window","confirm","returnedPerson","personItem","setTimeout","concat","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad8a0edb.chunk.js","sourcesContent":["const Person = ({person, deletePerson}) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number} <button onClick={() => deletePerson(person.id)}> Delete </button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import Person from './Person'\r\n\r\nconst Content  = ({persons, allPersons, deletePerson}) => {\r\n    console.log(persons.length)\r\n\r\n    if(persons.length === 0){\r\n        return (\r\n            <ul>\r\n                {allPersons.map((person, i) =>\r\n                <Person key={i} person={person} deletePerson={deletePerson} />\r\n                )}\r\n            </ul>\r\n        )\r\n    } else {\r\n        return (\r\n            <ul>\r\n                {persons.map((person, i) =>\r\n                <Person key={i} person={person} deletePerson={deletePerson} />\r\n                )}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Content","const Filter = ({value, onChange}) => \r\n    <div>\r\n        filter shown with <input value ={value} onChange={onChange} />\r\n    </div>\r\n\r\nexport default Filter\r\n","const successStyle = {\r\ncolor: \"green\",\r\nbackground: 'lightgrey',\r\nfontSize: '20px',\r\nborderStyle: 'solid',\r\nborderSadius: '5px',\r\npadding: '10px',\r\nmarginBottom: '10px',\r\n}\r\n\r\nconst errorStyle = {\r\n    color: \"red\",\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderSadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n    }\r\n\r\n\r\n\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null){\r\n        return null\r\n    }\r\n\r\n    if (message.includes('ERROR')) {\r\n        return(\r\n            <div style={errorStyle}>{message}</div>\r\n        )\r\n\r\n    } else {\r\n        return(\r\n            <div style={successStyle}>{message}</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","const PersonForm = ({onSubmit, newName, handleNameChange, newNumber, handleNumberChange}) => \r\n    <form onSubmit={onSubmit}>\r\n        <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type='submit'>add</button>\r\n        </div>\r\n    </form>\r\n\r\n    export default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request\r\n  .then(response => response.data)\r\n  .catch(function (error) {\r\n    if (error.response) {\r\n      // Request made and server responded\r\n      console.log(error.response.data);\r\n      console.log(error.response.status);\r\n      console.log(error.response.headers);\r\n    } else if (error.request) {\r\n      // The request was made but no response was received\r\n      console.log(error.request);\r\n    } else {\r\n      // Something happened in setting up the request that triggered an Error\r\n      console.log('Error', error.message);\r\n    }\r\n\r\n  });\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request\r\n  .then(response => response.data)\r\n  .catch(function (error) {\r\n    if (error.response) {\r\n      // Request made and server responded\r\n      console.log(error.response.data);\r\n      console.log(error.response.status);\r\n      console.log(error.response.headers);\r\n    } else if (error.request) {\r\n      // The request was made but no response was received\r\n      console.log(error.request);\r\n    } else {\r\n      // Something happened in setting up the request that triggered an Error\r\n      console.log('Error', error.message);\r\n    }\r\n\r\n  });\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Content from './components/Content'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ allPersons, setAllPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n      setAllPersons(initialPersons)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = allPersons.filter((person) =>\n        person.name === newName\n    )\n\n    const personToAdd = person[0]\n    const updatedPerson = { ...personToAdd, number: newNumber }\n\n    if (person.length !== 0) {\n      if (window.confirm(`${personToAdd.name} is already added to the phonebook, replace the old number with a new one ?`)) {\n        personService\n          .update(updatedPerson.id, updatedPerson).then(returnedPerson => {\n            console.log(`${returnedPerson.name} successfully updated`)\n            setAllPersons(allPersons.map(personItem => personItem.id !== personToAdd.id ? personItem : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(\n              `${updatedPerson.name} was successfully updated`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            console.log(error)\n            setAllPersons(allPersons.filter(person => person.id !== updatedPerson.id))\n            setNewName('')\n            setNewNumber('')\n            setMessage(\n              `[ERROR] ${updatedPerson.name} was already deleted from server`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n        const personToAdd = {\n            name: newName,\n            number: newNumber\n          }\n          personService\n            .create(personToAdd)\n            .then(returnedPerson => {\n              setAllPersons(allPersons.concat(returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              setMessage(\n                `${newName} was successfully added`\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setMessage(\n                `[ERROR] ${error.response.data.error}`\n              )\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n              console.log(error.response.data)\n            })\n    }\n  }\n\n  const deletePerson = (id) => {\n    const filteredPerson = allPersons.filter(person => person.id === id)\n    const personName = filteredPerson[0].name\n    const personId = filteredPerson[0].id\n    if (window.confirm(`Delete ${personName} ?`)) {\n      personService\n        .remove(personId)\n      console.log(`${personName} successfully deleted`)\n      setMessage(\n        `${personName} was successfully deleted`\n      )\n      setAllPersons(allPersons.filter(person => person.id !== personId))\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    const regex = new RegExp( newFilter, 'i' );\n    const filteredPersons = () => allPersons.filter(person => person.name.match(regex))\n    setPersons(filteredPersons)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={newFilter} onChange={handleFilterChange} />\n      <h2>Add new person</h2>\n      <PersonForm onSubmit={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Content persons={persons} allPersons={allPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}